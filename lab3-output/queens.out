Program[
 LetExpr([
  VarDec(N,NONE,
   IExpr(8)),
  TypeDec[  ArrayTy((int))],
  VarDec(row,NONE,
   ArrayExpr((intArray),
    LValueExpr(
    SimpleVar(N)),
    IExpr(0))),
  VarDec(col,NONE,
   ArrayExpr((intArray),
    LValueExpr(
    SimpleVar(N)),
    IExpr(0))),
  VarDec(diag1,NONE,
   ArrayExpr((intArray),
    BinOpExpr(Minus,
     BinOpExpr(Plus,
      LValueExpr(
      SimpleVar(N)),
      LValueExpr(
      SimpleVar(N))),
     IExpr(1)),
    IExpr(0))),
  VarDec(diag2,NONE,
   ArrayExpr((intArray),
    BinOpExpr(Minus,
     BinOpExpr(Plus,
      LValueExpr(
      SimpleVar(N)),
      LValueExpr(
      SimpleVar(N))),
     IExpr(1)),
    IExpr(0))),
  FuncDecs(  fundec(printboard,TF[  ],
  NONE
   SeqExpr[
    ForExpr(
i,     IExpr(0),
     BinOpExpr(Minus,
      LValueExpr(
      SimpleVar(N)),
      IExpr(1)),
     SeqExpr[
      ForExpr(
j,       IExpr(0),
       BinOpExpr(Minus,
        LValueExpr(
        SimpleVar(N)),
        IExpr(1)),
       FuncCallExpr(print,[
        IfExpr(
         BinOpExpr(Equals,
          LValueExpr(
          ArrEl(
           SimpleVar(col),
           LValueExpr(
           SimpleVar(i)))),
          LValueExpr(
          SimpleVar(j))),
         SExpr(" O"),
         SExpr(" ."))])),
      FuncCallExpr(print,[
       SExpr("
")])]),
    FuncCallExpr(print,[
     SExpr("
")])])),
  FuncDecs(  fundec(try,TF[
   c,(int)  ],
  NONE
   SeqExpr[
    IfExpr(
     BinOpExpr(Equals,
      LValueExpr(
      SimpleVar(c)),
      LValueExpr(
      SimpleVar(N))),
     FuncCallExpr(printboard,[]),
     ForExpr(
r,      IExpr(0),
      BinOpExpr(Minus,
       LValueExpr(
       SimpleVar(N)),
       IExpr(1)),
      IfExpr(
       BinOpExpr(And,
        BinOpExpr(And,
         BinOpExpr(Equals,
          LValueExpr(
          ArrEl(
           SimpleVar(row),
           LValueExpr(
           SimpleVar(r)))),
          IExpr(0)),
         BinOpExpr(Equals,
          LValueExpr(
          ArrEl(
           SimpleVar(diag1),
           BinOpExpr(Plus,
            LValueExpr(
            SimpleVar(r)),
            LValueExpr(
            SimpleVar(c))))),
          IExpr(0))),
        BinOpExpr(Equals,
         LValueExpr(
         ArrEl(
          SimpleVar(diag2),
          BinOpExpr(Minus,
           BinOpExpr(Plus,
            LValueExpr(
            SimpleVar(r)),
            IExpr(7)),
           LValueExpr(
           SimpleVar(c))))),
         IExpr(0))),
       SeqExpr[
        AssignExpr(
         ArrEl(
          SimpleVar(row),
          LValueExpr(
          SimpleVar(r))),
         IExpr(1)),
        AssignExpr(
         ArrEl(
          SimpleVar(diag1),
          BinOpExpr(Plus,
           LValueExpr(
           SimpleVar(r)),
           LValueExpr(
           SimpleVar(c)))),
         IExpr(1)),
        AssignExpr(
         ArrEl(
          SimpleVar(diag2),
          BinOpExpr(Minus,
           BinOpExpr(Plus,
            LValueExpr(
            SimpleVar(r)),
            IExpr(7)),
           LValueExpr(
           SimpleVar(c)))),
         IExpr(1)),
        AssignExpr(
         ArrEl(
          SimpleVar(col),
          LValueExpr(
          SimpleVar(c))),
         LValueExpr(
         SimpleVar(r))),
        FuncCallExpr(try,[
         BinOpExpr(Plus,
          LValueExpr(
          SimpleVar(c)),
          IExpr(1))]),
        AssignExpr(
         ArrEl(
          SimpleVar(row),
          LValueExpr(
          SimpleVar(r))),
         IExpr(0)),
        AssignExpr(
         ArrEl(
          SimpleVar(diag1),
          BinOpExpr(Plus,
           LValueExpr(
           SimpleVar(r)),
           LValueExpr(
           SimpleVar(c)))),
         IExpr(0)),
        AssignExpr(
         ArrEl(
          SimpleVar(diag2),
          BinOpExpr(Minus,
           BinOpExpr(Plus,
            LValueExpr(
            SimpleVar(r)),
            IExpr(7)),
           LValueExpr(
           SimpleVar(c)))),
         IExpr(0))])))]))],
  FuncCallExpr(try,[
   IExpr(0)]))]
